{"version":3,"sources":["webpack:///./src/app/news.service.ts","webpack:///./src/app/news/news.module.ts","webpack:///./src/app/news/news.page.html","webpack:///./src/app/news/news.page.scss","webpack:///./src/app/news/news.page.ts"],"names":[],"mappings":"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","file":"news-news-module~tabs-tabs-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { environment } from '../environments/environment';\nimport { HttpClient } from '@angular/common/http';\n\nconst API_URL = environment.apiUrl;\nconst API_KEY = environment.apiKey;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NewsService {\n  currentArticle: any;\n\n  constructor(private http: HttpClient) { }\n\n  getData(url) {\n    return this.http.get(`${API_URL}/${url}&apiKey=${API_KEY}`);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewsPage } from './news.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [NewsPage]\n})\nexport class NewsPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Headline News\\n      <ion-badge color=\\\"success\\\">{{category}}</ion-badge>\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"presentPopover($event)\\\">\\n        <ion-icon name=\\\"grid\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-slides>\\n    <ion-slide *ngFor=\\\"let article of data?.articles\\\" (click)=\\\"gotoNewsDetail(article)\\\">\\n      <ion-card-content>\\n        <ion-img [src]=\\\"article.urlToImage\\\"></ion-img>\\n        <ion-card-title>{{article.title}}</ion-card-title>\\n        <p>{{article.content}}</p>\\n      </ion-card-content>\\n    </ion-slide>\\n  </ion-slides>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\">\\n    <ion-fab-button (click)=\\\"presentAlertPrompt()\\\">\\n      <ion-icon name=\\\"search\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\"","module.exports = \".swiper-slide {\\n  width: auto; }\\n\"","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { NewsService } from '../news.service';\nimport { Router } from '@angular/router';\nimport { AlertController, PopoverController, LoadingController } from '@ionic/angular';\n\nimport { PopoverComponent } from '../popover/popover.component';\n\n@Component({\n  selector: 'app-news',\n  templateUrl: './news.page.html',\n  styleUrls: ['./news.page.scss'],\n})\nexport class NewsPage {\n  data: any;\n  category = 'general';\n  constructor(\n    private newsService: NewsService,\n    private router: Router,\n    private alertController: AlertController,\n    private popoverController: PopoverController,\n    private loadingController: LoadingController,\n    private ref: ChangeDetectorRef) {\n    this.refresh();\n  }\n\n  async refresh() {\n    const loading = await this.loadingController.create({\n      message: 'Please wait...',\n      duration: 10000\n    });\n    loading.present();\n    this.newsService\n      .getData('top-headlines?country=us&category=' + this.category)\n      .subscribe(data => {\n        this.data = data;\n        this.data.articles = this.data.articles.filter(article => article.content);\n        loading.dismiss();\n      });\n  }\n\n  gotoNewsDetail(article) {\n    this.newsService.currentArticle = article;\n    this.router.navigate(['/news-detail']);\n  }\n\n\n  async presentAlertPrompt() {\n    const alert = await this.alertController.create({\n      header: '全网热搜',\n      inputs: [\n        {\n          name: 'keyword',\n          type: 'text',\n          placeholder: 'LeBron James'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel');\n          }\n        }, {\n          text: 'Ok',\n          handler: data => {\n            this.search(data.keyword);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  search(keyword) {\n    this.newsService\n      .getData('everything?q=' + keyword)\n      .subscribe(data => {\n        this.data = data;\n        this.data.articles = this.data.articles.filter(article => article.content);\n        this.ref.detectChanges();\n      });\n  }\n\n  async presentPopover(ev: any) {\n    const popover = await this.popoverController.create({\n      component: PopoverComponent,\n      event: ev,\n      translucent: true\n    });\n\n    await popover.present();\n    const result = await popover.onDidDismiss();\n    this.category = result.data;\n    this.refresh();\n  }\n}\n"],"sourceRoot":""}